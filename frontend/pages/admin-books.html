<!doctype html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>إدارة الكتب | مكتبة السلف</title>
    <script src="../assets/tailwindcss/browser@4.js"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <style>
      :root {
        --accent: #8e735b;
        --bg-main: #f4f7fe;
        --sidebar-dark: #0b1437;
      }
      body {
        background-color: var(--bg-main);
        font-family: "Segoe UI", sans-serif;
      }
      .sidebar-active {
        background: var(--accent);
        color: white;
        box-shadow: 0 10px 20px rgba(142, 115, 91, 0.2);
      }
    </style>
  </head>
  <body class="flex h-screen overflow-hidden">
    <div class="lg:hidden p-4 bg-[#0b1437] flex justify-between items-center shadow-lg">
  <h1 class="text-xl font-black text-[#8e735b] tracking-widest">مكتبة السلف</h1>
  <button id="menu-toggle" class="text-white text-2xl focus:outline-none hover:text-[#8e735b] transition">
    <i class="fa-solid fa-bars"></i>
  </button>
</div>
    <aside
      id="sidebar"
      class="w-72 bg-[#0b1437] text-white hidden lg:flex flex-col sticky top-0 h-screen shadow-2xl"
    >
      <div class="p-8 text-center border-b border-slate-700">
        <h1 class="text-2xl font-black text-[#8e735b] tracking-widest">
          <a class="hover:opacity-70 transition" href="home.html"
            >مكتبة السلف</a
          >
        </h1>
        <p class="text-[10px] text-slate-400 mt-1 uppercase tracking-widest">
          لوحة الإدارة الرئيسية
        </p>
      </div>
      <nav class="flex-1 px-4 py-6 space-y-2">
        <a
          href="admin-index.html"
          class="flex items-center gap-4 p-4 rounded-2xl text-slate-400 hover:text-white hover:bg-slate-800 transition-all"
        >
          <i class="fa-solid fa-house-chimney"></i>
          <span class="font-bold">الرئسية</span>
        </a>
        <a
          href="admin-books.html"
          class="flex items-center gap-4 p-4 rounded-2xl sidebar-active"
        >
          <i class="fa-solid fa-book-open"></i>
          <span class="font-bold">إدارة الكتب</span>
        </a>
        <a
          href="admin-users.html"
          class="flex items-center gap-4 p-4 rounded-2xl text-slate-400 hover:text-white hover:bg-slate-800 transition-all"
        >
          <i class="fa-solid fa-users"></i>
          <span class="font-bold">المستخدمين</span>
        </a>
      </nav>
    </aside>

    <script>
      const sidebar = document.getElementById('sidebar');
const menuToggle = document.getElementById('menu-toggle');
const menuClose = document.getElementById('menu-close');
const overlay = document.getElementById('overlay');

function toggleSidebar() {
    sidebar.classList.toggle('hidden');
    sidebar.classList.toggle('flex'); // لضمان ظهور المحتوى بشكل عمودي
    overlay.classList.toggle('hidden');
}

menuToggle.addEventListener('click', toggleSidebar);
menuClose.addEventListener('click', toggleSidebar);
overlay.addEventListener('click', toggleSidebar); // إغلاق عند الضغط خارج القائمة
    </script>

    <main class="flex-1 overflow-y-auto p-4 lg:p-10">
      <div
        class="flex flex-col md:flex-row justify-between items-center mb-8 gap-4"
      >
        <div>
          <h2 class="text-3xl font-black text-[#1b2559]">مستودع الكتب</h2>
          <p class="text-slate-400 text-sm mt-1">
            عرض وتعديل وإدارة جميع الكتب المتاحة في المكتبة
          </p>
        </div>
        <div class="btns flex gap-3">
          <button
            onclick="window.location.href = 'add-book.html'"
            class="bg-[#8e735b] text-l cursor-pointer text-white px-5 py-2 rounded-2xl font-bold shadow-lg hover:brightness-110 transition-all flex items-center gap-2"
          >
            <i class="fa-solid fa-plus"></i> إضافة كتاب جديد
          </button>
          <button
            onclick="window.location.href = 'new-category.html'"
            class="bg-[#8e735b] text-l cursor-pointer text-white px-5 py-2 rounded-2xl font-bold shadow-lg hover:brightness-110 transition-all flex items-center gap-2"
          >
            <i class="fa-solid fa-plus"></i> إضافة تصنيف جديد
          </button>
        </div>
      </div>

      <div
        class="bg-white p-5 rounded-[25px] shadow-sm mb-6 flex flex-col md:flex-row gap-4"
      >
        <div class="relative flex-1">
          <input
            type="text"
            id="bookSearch"
            placeholder="ابحث عن عنوان الكتاب أو اسم المؤلف..."
            class="w-full bg-[#f4f7fe] p-3 pr-11 rounded-xl outline-none focus:ring-2 focus:ring-[#8e735b]/20 text-sm"
          />
          <i
            class="fa-solid fa-magnifying-glass absolute right-4 top-1/2 -translate-y-1/2 text-slate-400"
          ></i>
        </div>
        <select
          id="categoryFilter"
          class="bg-[#f4f7fe] px-4 py-3 rounded-xl outline-none text-sm font-bold text-slate-600"
        >
          <option value="">كل التصنيفات</option>
        </select>
      </div>

      <div
        class="bg-white rounded-[30px] shadow-sm overflow-hidden border border-white"
      >
        <div class="overflow-x-auto">
          <table class="w-full text-right border-collapse">
            <thead>
              <tr
                class="bg-slate-50/50 border-b border-slate-100 text-slate-400 text-[11px] uppercase tracking-widest font-bold"
              >
                <th class="p-6">معلومات الكتاب</th>
                <th class="p-6">القسم</th>
                <th class="p-6">تاريخ الإضافة</th>
                <th class="p-6 text-center">الإجراءات</th>
              </tr>
            </thead>
            <tbody id="booksTableBody" class="divide-y divide-slate-50">
              <!-- <tr class="hover:bg-slate-50 transition-all">
                <td class="p-6 flex items-center gap-4">
                  <div
                    class="w-12 h-16 bg-slate-100 rounded-lg flex items-center justify-center text-[#8e735b] border shadow-sm shrink-0"
                  >
                    <i class="fa-solid fa-book-bookmark text-xl"></i>
                  </div>
                  <div>
                    <p
                      class="font-black text-[#1b2559] text-[12px] font-bold mb-1"
                    >
                      فتح الباري شرح صحيح البخاري
                    </p>
                    <p class="text-[10px] text-slate-400">ابن حجر العسقلاني</p>
                  </div>
                </td>
                <td class="p-6">
                  <span
                    class="bg-blue-50 text-blue-500 px-3 py-1 rounded-lg text-[10px] font-black italic"
                    >حديث</span
                  >
                </td>
                <td class="p-6 text-xs text-slate-500 font-bold">2026/01/15</td>
                <td class="p-6">
                  <div class="flex justify-center gap-2">
                    <button
                      class="w-9 h-9 rounded-xl bg-blue-50 text-blue-500 hover:bg-blue-500 hover:text-white transition-all shadow-sm"
                    >
                      <i class="fa-solid fa-pen-to-square"></i>
                    </button>
                    <button
                      class="w-9 h-9 rounded-xl bg-red-50 text-red-500 hover:bg-red-500 hover:text-white transition-all shadow-sm"
                    >
                      <i class="fa-solid fa-trash"></i>
                    </button>
                  </div>
                </td>
              </tr> -->
            </tbody>
          </table>
        </div>

        <div
          class="p-6 border-t border-slate-50 flex justify-between items-center bg-slate-50/30"
        >
          <p class="text-xs text-slate-400 italic">
            عرض 1 إلى 5 من أصل <span class="allBooksCount">--</span> كتاب
          </p>
          <div class="flex gap-2">
            <div class="pages" id="pagination-btns"></div>
          </div>
        </div>
      </div>
      <div id="add-books-by-json" class="add-books-by-json">
        <a
          href="add-books-json.html"
          class="bg-[#8e735b] text-l cursor-pointer flex justify-center align-center w-full text-white px-5 py-2 rounded-2xl font-bold shadow-lg hover:brightness-110 transition-all flex items-center gap-2 my-5"
        >
          <i class="fa-solid fa-file-import"></i>
          إضافة مجموعة كتب من ملف (JSON)
        </a>
      </div>
    </main>

    <script>
      // هنا يمكنك إضافة منطق البحث والـ API لاحقاً
      document.getElementById("bookSearch").addEventListener("input", (e) => {
        console.log("Searching for:", e.target.value);
      });
    </script>
    <script type="module" src="../js/utils/admin-pannel-page.js"></script>

    <script type="module" src="../js/admin-books.js"></script>
  </body>
</html>

